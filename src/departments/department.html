<template>
  <section class="au-animate">
    <div class="row">
      <h4>
        <form class="form-inline">
          <span if.bind="!isEditing">${department.attributes.dname}(${data.department.id})</span>
          <span if.bind="isEditing">
            <input type="text" class="form-control" id="dname" size=15 placeholder="Departmentname" value.bind="department.attributes.dname" required="true">
          </span>
          <small>
            &nbsp;located in&nbsp;
            <span if.bind="!isEditing">${department.attributes.loc}</span>
            <span if.bind="isEditing">
              <input type="text" class="form-control" id="dname" size=15 placeholder="Location" value.bind="department.attributes.loc" required="true">
            </span>
            <div class="toolbar">
              <div if.bind="!isEditing">
                <span click.delegate="editDepartment(department.id)">
                  <i class="far fa-pencil"></i>
                </span>
                <span click.delegate="deleteDepartment(department.id)">
                  <i class="far fa-trash"></i>
                </span>
                <span>
                  <a href="#/departments/${department.id}/employees/new">
                    <i class="far fa-user-plus"></i>
                  </a>
                </span>
              </div>

              <div if.bind="isEditing">
                <span click.delegate="saveDepartment(department)">
                  <i class="far fa-save"></i>
                </span>
                <span click.delegate="uneditDepartment()">
                  <i class="far fa-times"></i>
                </span>
              </div>
            </div>
          </small>
        </form>
      </h4>
    </div>

    <div class="row  mt-2">
      <compose view-model="../employees/employee-list" 
               model.bind="data"
               view="${(employees.length>0) ? '../employees/employee-list.html' : '../employees/employee-list-empty.html'}">
      </compose>
    </div>
  </section>
</template>
